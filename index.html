<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .box {
        width: 100vw;
        height: 100vh;
        background-color: #fff;
      }
      .watermark {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 100vw;
        pointer-events: none;
        z-index: 1000;
        /* 该属性特别重要，去掉的话水印就会覆盖文字 */
        mix-blend-mode: multiply;
      }
    </style>
  </head>
  <body>
    <div class="box">
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
      <div>
        这是一个测试水印的demo,是一个测试水印的demo,是一个测试水印的demo
      </div>
    </div>
    <!-- 水印 -->
    <div class="watermark"></div>
  </body>
  <script>
    function addWaterMarker(name) {
      let can = document.createElement("canvas");
      can.width = 180;
      can.height = 150;
      let cans = can.getContext("2d");
      cans.rotate((-20 * Math.PI) / 180);
      cans.font = "normal  14px Microsoft JhengHei";
      cans.fillStyle = "rgba(223, 223, 223, 1)";
      cans.textAlign = "center";
      cans.textBaseline = "Middle";
      cans.fillText(name, can.width / 3, can.height / 2);
      // cans.fillText(number, can.width / 2.7, can.height / 1.6);
      let dom = document.querySelector(".watermark");
      dom.style.backgroundImage = "url(" + can.toDataURL("image/png") + ")";
    }

    var name = "小明";
    addWaterMarker(name);
  </script>
</html>
